trigger:
  paths:
    include:
      - backend/src*

pool:
  vmImage: ubuntu-latest

extends:
  template: ../../pipeline-templates/environment-deploy.yaml
  parameters:
    terraformVersion: "1.3.6"
    projectName: backend
    backendAppFolder: backend
    terraformFolder: azure
    workingDirectory: $(System.DefaultWorkingDirectory)
    environments:
      - stage: dev
        serviceConnection: SC-AzureDevOps
        webAppName: "sampleapp-lso1234"
        environment: dev
        appDirectory: $(System.DefaultWorkingDirectory)/backend
# stages:
#   - stage: build
#     displayName: Build
#     jobs:
#       - job: build_dev
#         displayName: Build dev
#         steps:
#           - template: ../../pipeline-templates/steps/app-service-build.yaml
#             parameters:
#               workingDirectory: "$(System.DefaultWorkingDirectory)/backend"
#               serviceConnection: "SC-AzureDevOps"
#               webAppName: "sampleapp-lso1234"
